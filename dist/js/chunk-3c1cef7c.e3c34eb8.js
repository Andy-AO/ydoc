(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c1cef7c"],{"1f32":function(e,r,t){},"27fc":function(e,r,t){},"610a":function(e,r,t){"use strict";t.r(r);var i=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-card",{directives:[{name:"loading",rawName:"v-loading.body",value:e.libraryPreviewEventBus.loading,expression:"libraryPreviewEventBus.loading",modifiers:{body:!0}}],staticClass:"page-library-preview layout-wrapper",class:e.bodyClass},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.pageFirstInited,expression:"pageFirstInited"}],staticClass:"layout-body"},[e.isAccessed?t("div",{staticClass:"layout-body-inner"},[t("div",{staticClass:"layout-side"},[t("div",{staticClass:"layout-side__header"},[t("div",{staticClass:"library-info"},[t("span",{staticClass:"library-info__name",attrs:{title:e.libraryInfoTip},on:{click:e.onShareInfoView}},[e._v(" 123 ")])])]),t("div",{staticClass:"layout-side__body"},[t("c-library-preview-tree")],1),t("div",{staticClass:"layout-side__footer"},[t("c-library-preview-tree-tools")],1)]),t("div",{staticClass:"layout-side-action"},[t("i",{staticClass:"el-icon-d-arrow-right",on:{click:e.onChangeSide}})]),t("div",{staticClass:"layout-main"},[t("c-library-preview-view")],1),t("div",{staticClass:"layout-drawer"},[t("c-library-preview-drawer")],1)]):t("div",[t("c-library-preview-protected")],1)])])},n=[],a=(t("8e6e"),t("ac6a"),t("456d"),t("96cf"),t("3b8d")),s=t("bd86"),c=t("2f62"),o=t("68c7"),u=t("a026"),l=new u["default"]({data:function(){return{loading:!0}},methods:{destroy:function(){this.$off()}}}),f=t("9e7f"),d=t("787f");function h(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,i)}return t}function p(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?h(Object(t),!0).forEach((function(r){Object(s["a"])(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var b={name:"page-library-preview",mixins:[o["a"]],components:{"c-library-preview-protected":function(){return t.e("chunk-1bc6b756").then(t.bind(null,"1e17"))},"c-library-preview-view":function(){return t.e("chunk-7beab831").then(t.bind(null,"7d72"))},"c-library-preview-tree":function(){return t.e("chunk-507c222a").then(t.bind(null,"c235"))},"c-library-preview-tree-tools":function(){return t.e("chunk-2b017853").then(t.bind(null,"aaa1"))},"c-library-preview-drawer":function(){return t.e("chunk-3798c6ba").then(t.bind(null,"557a"))}},provide:function(){return{libraryPreviewEventBus:this.libraryPreviewEventBus}},computed:p(p({},Object(c["c"])("libraryPreview",["libraryShareInfo","isAccessed","isShareSimplify"])),{},{libraryInfoTip:function(){return""},bodyClass:function(){return{"side-open":this.sideStatus,"side-close":!this.sideStatus,simplify:this.isShareSimplify}}}),watch:{isShareSimplify:{handler:function(e){e&&(this.sideStatus=!1)},immediate:!0},isAccessed:{handler:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r&&this.$utils.SetDocummentTitle(this.libraryShareInfo.share_name);case 1:case"end":return e.stop()}}),e,this)})));function r(r){return e.apply(this,arguments)}return r}(),immediate:!0}},data:function(){return{libraryPreviewEventBus:l,sideStatus:!0}},created:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var r,t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.libraryPreviewEventBus.loading=!0,r=this.$utils.Input("code/s",""),r){e.next=5;break}return e.next=5,this.$utils.Error("参数错误，缺少必需参数");case 5:return t=d["a"].getItem(d["b"].SHARE_ACCESS_PASSWORD,{}),i=t[r]||"",e.next=9,this.initLibraryShareInfo(r,i);case 9:this.libraryPreviewEventBus.loading=!1,this.pageFirstInited=!0;case 11:case"end":return e.stop()}}),e,this)})));function r(){return e.apply(this,arguments)}return r}(),beforeDestroy:function(){this.libraryPreviewEventBus.destroy()},methods:{initLibraryShareInfo:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r){var t,i,n=this,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=s.length>1&&void 0!==s[1]?s[1]:"",i={share_code:r,share_access_password:t},e.next=4,this.$api.v1.LibraryShareInfo(i,{report:!0}).then((function(e){var r=e.resData;n.$store.commit("libraryPreview/setLibraryShareInfo",{libraryShareInfo:r,isAccessed:!0,accessPassword:t})})).catch(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r){var t,i,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=r.resMsg,i=void 0===t?"未知错误":t,a=r.resCode,s=r.resData,a!==f["a"].LIRARY_SHARE_PROTECTED){e.next=5;break}n.$store.commit("libraryPreview/setLibraryShareInfo",{libraryShareInfo:s,isAccessed:!1}),e.next=7;break;case 5:return e.next=7,n.$utils.Error(i);case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e,this)})));function r(r){return e.apply(this,arguments)}return r}(),onChangeSide:function(){this.sideStatus=!this.sideStatus},onShareInfoView:function(){this.libraryPreviewEventBus.$emit("share-info-view")}}},v=b,y=(t("a4f9"),t("c7f5"),t("2877")),w=Object(y["a"])(v,i,n,!1,null,"76abe552",null);r["default"]=w.exports},"68c7":function(e,r,t){"use strict";t("96cf");var i=t("3b8d");r["a"]={data:function(){return{pageLoading:!0,pageFirstInited:!1}},methods:{checkValidate:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(r){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.$refs||!this.$refs[r]){e.next=5;break}return e.next=3,this.$refs[r].validate();case 3:return t=e.sent,e.abrupt("return",t);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e,this)})));function r(r){return e.apply(this,arguments)}return r}(),resetValidate:function(e){this.$refs&&this.$refs[e]&&this.$refs[e].resetFields()},loadaction:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(r,t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this[t]=!0,e.next=3,r();case 3:return i=e.sent,this[t]=!1,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})));function r(r,t){return e.apply(this,arguments)}return r}()}}},a4f9:function(e,r,t){"use strict";var i=t("27fc"),n=t.n(i);n.a},c7f5:function(e,r,t){"use strict";var i=t("1f32"),n=t.n(i);n.a}}]);