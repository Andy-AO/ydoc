(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bce4d2ec"],{"518f":function(t,e,n){},5710:function(t,e,n){"use strict";n("96cf");var i=n("3b8d"),a=n("6c47");e["a"]={mixins:[a["a"]],inject:["libraryContentEventBus"],watch:{libraryId:{handler:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e>0)){t.next=5;break}if(t.t0=this.initComponent,!t.t0){t.next=5;break}return t.next=5,this.initComponent();case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),immediate:!0}},created:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.initEventBus&&this.initEventBus(this.libraryContentEventBus);case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{initEventBus:function(t){},initComponent:function(){}}}},5745:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-library-drawer-doc-templates bold-normal"},[n("el-drawer",{attrs:{title:t.title,visible:t.visibleDrawer,"custom-class":"content-drawer",size:"600px","modal-append-to-body":!1},on:{"update:visible":function(e){t.visibleDrawer=e}}},[n("div",{staticClass:"content-drawer__content"},[n("el-alert",{attrs:{type:"info",title:"文档模板的管理操作，请前往模板中心","show-icon":""}}),n("div",{staticClass:"operate-container"},[n("el-tag",{staticClass:"operate-container__total"},[t._v("当前共计 "),n("b",[t._v(t._s(t.tmeplateCount))]),t._v(" 个模板")]),n("el-button",{staticClass:"button-bold operate-container__item",attrs:{loading:t.templateLoading,size:"small",icon:"el-icon-refresh",type:"text"},on:{click:t.onDocTemplateListFlush}},[t._v("刷新列表")]),n("el-input",{staticClass:"operate-container__search-input",attrs:{"prefix-icon":"el-icon-search",size:"mini",placeholder:"搜索关键字（模板名称、简介、创建人）",clearable:""},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}})],1),n("el-scrollbar",{staticClass:"template-collection-container"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.templateLoading,expression:"templateLoading"}],attrs:{data:t.templateCollectionProcessed,type:"expand","empty-text":t.templateEmptyText,stripe:""}},[n("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("el-form",{staticClass:"template-info-expanded",attrs:{"label-position":"left","label-width":"85px",inline:""}},[n("el-form-item",{attrs:{label:"模板名"}},[n("span",[t._v(t._s(i.name))])]),n("el-form-item",{attrs:{label:"模板简介"}},[n("span",[t._v(t._s(i.introduction))])]),n("el-form-item",{attrs:{label:"更新时间"}},[n("span",[t._v(t._s(t._f("dateFormat")(i.update_time)))])]),n("el-form-item",{attrs:{label:"创建时间"}},[n("span",[t._v(t._s(t._f("dateFormat")(i.create_time)))])]),n("el-form-item",{attrs:{label:"创建者"}},[n("span",[t._v(t._s(i.user_info.nickname))])])],1)]}}])}),n("el-table-column",{attrs:{prop:"name",label:"模板名"}}),n("el-table-column",{attrs:{prop:"user_info.nickname",label:"创建者",width:"100"}}),n("el-table-column",{attrs:{label:"操作",width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){e.$index;var i=e.row;return[n("el-button",{staticClass:"use-template-btn",attrs:{icon:"el-icon-thumb",type:"text",size:"small"},on:{click:function(e){return t.onDocTemplateUse(i)}}},[t._v("使用\n                            ")])]}}])})],1)],1)],1)])],1)},a=[],r=(n("96cf"),n("3b8d")),o=(n("7f7f"),n("cc2f")),s=n("5710"),l={name:"c-library-drawer-doc-templates",mixins:[o["a"],s["a"]],computed:{title:function(){return"模板列表"},templateEmptyText:function(){return this.templateLoading?"加载中":"暂无模板"},templateCollectionProcessed:function(){var t=this.searchKey;return this.templateCollection.filter((function(e){return[e.name,e.introduction,e.user_info.nickname].some((function(e){return e.indexOf(t)>=0}))}))},tmeplateCount:function(){return this.templateCollectionProcessed.length}},data:function(){return{searchKey:"",templateLoading:!0,templateCollection:[]}},methods:{initEventBus:function(t){var e=this;t.$on("doc-template-will-use",(function(){e.visibleDrawer=!0}))},initDocTemplateCollection:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n=this,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=i.length>0&&void 0!==i[0]&&i[0],0===this.templateCollection.length||e){t.next=3;break}return t.abrupt("return",!0);case 3:return t.next=5,this.$api.v1.LibraryDocTempalteCollection({},{loading:function(t){n.templateLoading=t}}).then((function(t){var e=t.resData;n.templateCollection=e}));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onDrawerOpen:function(){this.initDocTemplateCollection()},onDocTemplateListFlush:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.initDocTemplateCollection(!0);case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onDocTemplateUse:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.visibleDrawer=!1,this.libraryContentEventBus.$emit("doc-template-use",e);case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},c=l,u=(n("9fab"),n("f25a"),n("2877")),p=Object(u["a"])(c,i,a,!1,null,"1af34c98",null);e["default"]=p.exports},"86a3":function(t,e,n){},"9fab":function(t,e,n){"use strict";var i=n("86a3"),a=n.n(i);a.a},cc2f:function(t,e,n){"use strict";e["a"]={props:{visible:{type:Boolean,default:!1}},watch:{visible:function(t){this.visibleDrawer=t},visibleDrawer:function(t){this.$emit("update:visible",t),t?this.onDrawerOpen&&this.onDrawerOpen():this.$emit("close",this.$data)}},data:function(){return{visibleDrawer:this.visible,loadingDrawer:!1}}}},f25a:function(t,e,n){"use strict";var i=n("518f"),a=n.n(i);a.a}}]);