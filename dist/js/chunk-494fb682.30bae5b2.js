(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-494fb682"],{"0a49":function(e,t,r){var n=r("9b43"),i=r("626a"),s=r("4bf8"),a=r("9def"),o=r("cd1c");e.exports=function(e,t){var r=1==e,c=2==e,u=3==e,f=4==e,l=6==e,p=5==e||l,d=t||o;return function(t,o,b){for(var m,v,h=s(t),y=i(h),M=n(o,b,3),_=a(y.length),g=0,x=r?d(t,_):c?d(t,0):void 0;_>g;g++)if((p||g in y)&&(m=y[g],v=M(m,g,h),e))if(r)x[g]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return g;case 2:x.push(m)}else if(f)return!1;return l?-1:u||f?f:x}}},1169:function(e,t,r){var n=r("2d95");e.exports=Array.isArray||function(e){return"Array"==n(e)}},1783:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{staticClass:"c-library-manager-member-invite-modal",attrs:{visible:e.visibleModal,title:e.title,width:"550px",center:"","append-to-body":""},on:{"update:visible":function(t){e.visibleModal=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[r("el-button",{attrs:{type:"primary",icon:"el-icon-s-check",loading:e.inviteMemberLoading,plain:""},on:{click:e.onInviteMember}},[e._v("\n            确认邀请\n        ")])]},proxy:!0}])},[r("el-autocomplete",{staticClass:"search-input",attrs:{"fetch-suggestions":e.fetchMembers,"popper-append-to-body":!1,"prefix-icon":"el-icon-search","popper-class":"library-manager-member-invite-search",placeholder:"请输入用户名",clearable:""},on:{select:e.onUseMember},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;return[r("el-avatar",{attrs:{size:22,icon:"el-icon-user-solid",src:n.avatar_url}}),r("span",{staticClass:"search-result-name"},[e._v(e._s(n.account))]),r("span",{staticClass:"search-result-name-status"},[e._v(e._s(e._f("memberSelectState")(n)))])]}}]),model:{value:e.searchMemberKey,callback:function(t){e.searchMemberKey=t},expression:"searchMemberKey"}}),r("el-divider",{attrs:{"content-position":"left"}},[e._v("已选用户")]),r("div",{staticClass:"use-member"},e._l(e.useMembers,(function(t){return r("el-tag",{key:t.id,staticClass:"use-member-item",attrs:{type:"info",size:"medium",closable:""},on:{close:function(r){return e.onUnuseMember(t)}}},[r("el-avatar",{staticClass:"user-member-item-avatar",attrs:{size:17,icon:"el-icon-user-solid",src:t.avatar_url}}),r("span",{staticClass:"user-member-item-name"},[e._v(e._s(t.account))])],1)})),1)],1)},i=[],s=(r("20d6"),r("ac6a"),r("96cf"),r("3b8d")),a=(r("c5f6"),r("7cc55")),o={name:"c-library-manager-member-invite-modal",mixins:[a["a"]],props:{libraryId:{type:Number,required:!0},libraryMembers:{type:Array,required:!0}},data:function(){return{title:"邀请用户加入文档库",searchMemberKey:"",useMembers:[],inviteMemberLoading:!1}},methods:{fetchMembers:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,r){var n,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=[],!t){e.next=4;break}return e.next=4,this.$api.v1.ToolsMemberCollection({search_key:t}).then((function(e){var t=e.resData;n=t}));case 4:return n.forEach((function(e){e.is_exists=i.libraryMembers.findIndex((function(t){return t.uid===e.id}))>=0,e.is_use=i.useMembers.findIndex((function(t){return t.id===e.id}))>=0})),e.abrupt("return",r(n));case 6:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),inviteMembers:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.useMembers.map((function(e){return e.id})),0!==t.length){e.next=4;break}return this.$tip.error("请选择要邀请的用户"),e.abrupt("return",!1);case 4:return r=!1,e.next=7,this.$api.v1.LibraryMemberInvite({library_id:this.libraryId,member_ids:t},{loading:function(e){n.inviteMemberLoading=e}}).then((function(){r=!0,n.$tip.success("邀请成功")})).catch((function(e){var t=e.resMsg;n.$tip.error(t)}));case 7:r&&(this.$emit("invite-success"),this.visibleModal=!1);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onModalOpen:function(){this.useMembers=[],this.inviteMemberLoading=!1},onUseMember:function(e){e.is_exists||e.is_use||this.useMembers.push(this.$utils.CloneDeep(e))},onUnuseMember:function(e){var t=this.useMembers.findIndex((function(t){return t.id===e.id}));this.useMembers.splice(t,1)},onInviteMember:function(){this.inviteMembers()}},filters:{memberSelectState:function(e){var t="";return t=e.is_exists?"(已存在)":t,t=e.is_use?"(已选择)":t,t}}},c=o,u=(r("5dd4"),r("756a"),r("2877")),f=Object(u["a"])(c,n,i,!1,null,"31671dd8",null);t["default"]=f.exports},"20d6":function(e,t,r){"use strict";var n=r("5ca1"),i=r("0a49")(6),s="findIndex",a=!0;s in[]&&Array(1)[s]((function(){a=!1})),n(n.P+n.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")(s)},5827:function(e,t,r){},"5dbc":function(e,t,r){var n=r("d3f4"),i=r("8b97").set;e.exports=function(e,t,r){var s,a=t.constructor;return a!==r&&"function"==typeof a&&(s=a.prototype)!==r.prototype&&n(s)&&i&&i(e,s),e}},"5dd4":function(e,t,r){"use strict";var n=r("5827"),i=r.n(n);i.a},7329:function(e,t,r){},"756a":function(e,t,r){"use strict";var n=r("7329"),i=r.n(n);i.a},"7cc55":function(e,t,r){"use strict";t["a"]={props:{visible:{type:Boolean,required:!0}},watch:{visible:function(e){this.visibleModal=e},visibleModal:function(e){this.$emit("update:visible",e),e?this.onModalOpen&&this.onModalOpen():this.$emit("close",this.$data)}},data:function(){return{visibleModal:this.visible,loadingModal:!1}},methods:{onClose:function(){this.visibleModal=!1}}}},"8b97":function(e,t,r){var n=r("d3f4"),i=r("cb7c"),s=function(e,t){if(i(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=r("9b43")(Function.call,r("11e9").f(Object.prototype,"__proto__").set,2),n(e,[]),t=!(e instanceof Array)}catch(i){t=!0}return function(e,r){return s(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:s}},aa77:function(e,t,r){var n=r("5ca1"),i=r("be13"),s=r("79e5"),a=r("fdef"),o="["+a+"]",c="​",u=RegExp("^"+o+o+"*"),f=RegExp(o+o+"*$"),l=function(e,t,r){var i={},o=s((function(){return!!a[e]()||c[e]()!=c})),u=i[e]=o?t(p):a[e];r&&(i[r]=u),n(n.P+n.F*o,"String",i)},p=l.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(f,"")),e};e.exports=l},c5f6:function(e,t,r){"use strict";var n=r("7726"),i=r("69a8"),s=r("2d95"),a=r("5dbc"),o=r("6a99"),c=r("79e5"),u=r("9093").f,f=r("11e9").f,l=r("86cc").f,p=r("aa77").trim,d="Number",b=n[d],m=b,v=b.prototype,h=s(r("2aeb")(v))==d,y="trim"in String.prototype,M=function(e){var t=o(e,!1);if("string"==typeof t&&t.length>2){t=y?t.trim():p(t,3);var r,n,i,s=t.charCodeAt(0);if(43===s||45===s){if(r=t.charCodeAt(2),88===r||120===r)return NaN}else if(48===s){switch(t.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+t}for(var a,c=t.slice(2),u=0,f=c.length;u<f;u++)if(a=c.charCodeAt(u),a<48||a>i)return NaN;return parseInt(c,n)}}return+t};if(!b(" 0o1")||!b("0b1")||b("+0x1")){b=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof b&&(h?c((function(){v.valueOf.call(r)})):s(r)!=d)?a(new m(M(t)),r,b):M(t)};for(var _,g=r("9e1e")?u(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;g.length>x;x++)i(m,_=g[x])&&!i(b,_)&&l(b,_,f(m,_));b.prototype=v,v.constructor=b,r("2aba")(n,d,b)}},cd1c:function(e,t,r){var n=r("e853");e.exports=function(e,t){return new(n(e))(t)}},e853:function(e,t,r){var n=r("d3f4"),i=r("1169"),s=r("2b4c")("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&(t=t[s],null===t&&(t=void 0))),void 0===t?Array:t}},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);