(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-247a8b9d"],{"34af":function(t,r,e){},"623a":function(t,r,e){"use strict";var n=e("7ac8"),i=e.n(n);i.a},"68c7":function(t,r,e){"use strict";e("96cf");var n=e("3b8d");r["a"]={data:function(){return{pageLoading:!0,pageFirstInited:!1}},methods:{checkValidate:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$refs||!this.$refs[r]){t.next=5;break}return t.next=3,this.$refs[r].validate();case 3:return e=t.sent,t.abrupt("return",e);case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}}),t,this)})));function r(r){return t.apply(this,arguments)}return r}(),resetValidate:function(t){this.$refs&&this.$refs[t]&&this.$refs[t].resetFields()},loadaction:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r,e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this[e]=!0,t.next=3,r();case 3:return n=t.sent,this[e]=!1,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)})));function r(r,e){return t.apply(this,arguments)}return r}()}}},7795:function(t,r,e){"use strict";e.r(r);var n=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"page-library-group-manager"},[e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{span:16}},[e("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.libraryGroupListLoading,expression:"libraryGroupListLoading"}],attrs:{shadow:"hover"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",[t._v("文档库分组树")]),e("el-input",{staticClass:"entity-tree-search",attrs:{placeholder:"输入关键字过滤"},model:{value:t.filterEntity.key,callback:function(r){t.$set(t.filterEntity,"key",r)},expression:"filterEntity.key"}},[e("i",{staticClass:"el-input__icon",class:t.filterEntityModeIcon,attrs:{slot:"prefix",title:"点击切换模式"},on:{click:t.onSwitchFilterEntityMode},slot:"prefix"})]),e("div",{staticClass:"fr entity-actions"},[e("el-button",{attrs:{icon:"el-icon-refresh",type:"primary",plain:""},on:{click:t.onLibraryGroupListRefresh}},[t._v("刷新\n                        ")]),e("el-button",{attrs:{icon:"el-icon-folder-add",type:"primary"},on:{click:t.onLibraryGroupCreateReady}},[t._v("新增分组\n                        ")])],1)],1),e("c-library-entity-tree",{staticClass:"entity-tree",attrs:{libraryGroups:t.libraryGroups,librarys:t.librarys,"filter-entity-key":t.filterEntity.key,"filter-entity-mode":t.filterEntity.mode},on:{"group-modify-ready":t.onLibraryGroupModifyReady,"group-remove-success":t.onLibraryGroupRemoveSuccess,"entity-sort-success":t.onEntitySortSuccess,"entity-click":t.onEntityClick}})],1)],1),e("el-col",{attrs:{span:8}},[e(t.entityInfoTpl,{tag:"div",attrs:{id:t.entityInfo.id}})],1)],1),e("c-library-group-modal",{attrs:{visible:t.groupModal.visible,"group-id":t.groupModal.groupId},on:{"update:visible":function(r){return t.$set(t.groupModal,"visible",r)},"group-save-success":t.onLibraryGroupSaveSuccess}})],1)},i=[],a=(e("96cf"),e("3b8d")),o=e("bd86"),s=e("68c7"),u=e("c51c"),c={name:"page-library-group-manager",mixins:[s["a"]],components:{"c-library-group-modal":function(){return e.e("chunk-b79d74b0").then(e.bind(null,"8a5a"))},"c-library-entity-tree":function(){return e.e("chunk-21865c30").then(e.bind(null,"8e4c"))},"c-library-group-entity-group-info":function(){return e.e("chunk-4e34ed1c").then(e.bind(null,"f250"))},"c-library-group-entity-library-info":function(){return e.e("chunk-cea12f30").then(e.bind(null,"f9d6"))}},computed:{entityInfoTpl:function(){var t,r=(t={},Object(o["a"])(t,u["b"],"c-library-group-entity-library-info"),Object(o["a"])(t,u["a"],"c-library-group-entity-group-info"),t);return r[this.entityInfo.type]||r[u["a"]]},filterEntityModeIcon:function(){return"search"===this.filterEntity.mode?"el-icon-search":"el-icon-magic-stick"}},data:function(){return{librarys:[],libraryGroups:[],libraryGroupListLoading:!1,groupModal:{visible:!1,groupId:0},entityInfo:{type:"",id:0},filterEntity:{key:"",mode:"search"}}},created:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.initialize();case 2:case"end":return t.stop()}}),t,this)})));function r(){return t.apply(this,arguments)}return r}(),methods:{initialize:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.loadaction(Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.getLibraryGroups();case 2:return e=t.sent,t.next=5,r.getLibrarys();case 5:n=t.sent,r.libraryGroups=e,r.librarys=n;case 8:case"end":return t.stop()}}),t)}))),"libraryGroupListLoading");case 2:case"end":return t.stop()}}),t,this)})));function r(){return t.apply(this,arguments)}return r}(),getLibraryGroups:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=[],t.next=3,this.$api.v1.LibraryGroupCollection().then((function(t){var e=t.resData;r=e}));case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t,this)})));function r(){return t.apply(this,arguments)}return r}(),getLibrarys:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=[],t.next=3,this.$api.v1.LibraryCollection().then((function(t){var e=t.resData;r=e}));case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t,this)})));function r(){return t.apply(this,arguments)}return r}(),openGroupModal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.groupModal.groupId=parseInt(t),this.groupModal.visible=!0},onEntityClick:function(t,r){switch(t){case u["b"]:this.onViewLibraryInfo(r);break;case u["a"]:this.onViewLibraryGroupInfo(r);break}},onViewLibraryInfo:function(t){this.entityInfo.id=t.id,this.entityInfo.type=u["b"]},onViewLibraryGroupInfo:function(t){this.entityInfo.id=t.id,this.entityInfo.type=u["a"]},onLibraryGroupListRefresh:function(){this.initialize()},onLibraryGroupCreateReady:function(){this.openGroupModal(0)},onLibraryGroupModifyReady:function(t){this.openGroupModal(t)},onLibraryGroupRemoveSuccess:function(t){this.initialize()},onEntitySortSuccess:function(){this.initialize()},onLibraryGroupSaveSuccess:function(){this.initialize()},onSwitchFilterEntityMode:function(){this.filterEntity.mode="search"===this.filterEntity.mode?"stick":"search"}}},l=c,p=(e("cf25"),e("623a"),e("2877")),f=Object(p["a"])(l,n,i,!1,null,"6c2f32e8",null);r["default"]=f.exports},"7ac8":function(t,r,e){},c51c:function(t,r,e){"use strict";e.d(r,"a",(function(){return n})),e.d(r,"b",(function(){return i}));var n="library_group",i="library"},cf25:function(t,r,e){"use strict";var n=e("34af"),i=e.n(n);i.a}}]);