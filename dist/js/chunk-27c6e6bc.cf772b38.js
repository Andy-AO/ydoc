(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27c6e6bc"],{"68c7":function(e,t,n){"use strict";n("96cf");var r=n("3b8d");t["a"]={data:function(){return{pageLoading:!0,pageFirstInited:!1}},methods:{checkValidate:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.$refs||!this.$refs[t]){e.next=5;break}return e.next=3,this.$refs[t].validate();case 3:return n=e.sent,e.abrupt("return",n);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),resetValidate:function(e){this.$refs&&this.$refs[e]&&this.$refs[e].resetFields()},loadaction:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this[n]=!0,e.next=3,t();case 3:return r=e.sent,this[n]=!1,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}}},"9bb2":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-user-login"},[n("el-form",{ref:"user",attrs:{model:e.user,rules:e.userRules}},[n("h2",{staticClass:"user-title"},[e._v("\n            Y-DOC "),n("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v("Beta")])],1),n("el-form-item",{attrs:{prop:"account"}},[n("el-input",{attrs:{placeholder:"请输入用户名/邮箱账号","prefix-icon":"el-icon-user","auto-complete":"off",clearable:""},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onLogin(t)}},model:{value:e.user.account,callback:function(t){e.$set(e.user,"account",t)},expression:"user.account"}})],1),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{placeholder:"请输入登录密码","prefix-icon":"el-icon-lock",type:"password","show-password":"",clearable:""},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onLogin(t)}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),n("el-button",{staticClass:"inline-block",attrs:{loading:e.submitLoading,type:"primary"},on:{click:e.onLogin}},[e._v("登录")]),n("div",{staticClass:"user-actions"},[n("el-button",{attrs:{type:"text"},on:{click:e.onWillRegister}},[e._v("立即注册?")]),n("el-button",{attrs:{type:"text"},on:{click:e.onWillRetrieve}},[e._v("忘记密码?")])],1)],1)],1)},s=[],i=(n("96cf"),n("3b8d")),a=n("68c7"),u={name:"page-user-login",mixins:[a["a"]],data:function(){return{userRules:{account:[{required:!0,message:"请输入用户名/邮箱账号",trigger:"blur"}],password:[{required:!0,message:"请输入登录密码",trigger:"blur"}]},user:{account:"",password:""},submitLoading:!1}},methods:{submitLogin:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.checkValidate("user");case 2:return e.next=4,this.$api.v1.GuestUserAccountLogin(this.user,{loading:function(e){t.submitLoading=e}}).then((function(e){var n=e.resData;t.$notify.success({title:"登录成功",message:"欢迎回来"}),t.userSession(n.uid,n.token),t.goRedirect()}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),goRedirect:function(){var e=this.$route.query.r;e?this.$router.push(e):this.$link.home()},userSession:function(e,t){this.$store.commit("userSession/setSession",{uid:e,token:t})},onLogin:function(){this.submitLogin()},onWillRegister:function(){this.$link.register()},onWillRetrieve:function(){this.$utils.Abuilding()}}},o=u,c=(n("cddd"),n("bae6"),n("2877")),l=Object(c["a"])(o,r,s,!1,null,"4fc6d03c",null);t["default"]=l.exports},aa0e:function(e,t,n){},bae6:function(e,t,n){"use strict";var r=n("aa0e"),s=n.n(r);s.a},cddd:function(e,t,n){"use strict";var r=n("fa8e"),s=n.n(r);s.a},fa8e:function(e,t,n){}}]);