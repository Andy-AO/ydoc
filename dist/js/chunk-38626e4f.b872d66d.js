(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38626e4f"],{3753:function(t,e,n){"use strict";var i=n("a59c"),a=n.n(i);a.a},5710:function(t,e,n){"use strict";n("96cf");var i=n("3b8d"),a=n("6c47");e["a"]={mixins:[a["a"]],inject:["libraryContentEventBus"],watch:{libraryId:{handler:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e>0)){t.next=5;break}if(t.t0=this.initComponent,!t.t0){t.next=5;break}return t.next=5,this.initComponent();case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),immediate:!0}},created:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.initEventBus&&this.initEventBus(this.libraryContentEventBus);case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{initEventBus:function(t){},initComponent:function(){}}}},"901c":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-library-drawer-doc-template-info"},[n("el-drawer",{attrs:{title:t.title,visible:t.visibleDrawer,"custom-class":"content-drawer",size:"400px","modal-append-to-body":!1},on:{"update:visible":function(e){t.visibleDrawer=e}}},[n("div",{staticClass:"content-drawer__content"},[n("el-form",{attrs:{model:t.templateInfo,"label-position":"top"}},[n("el-form-item",{attrs:{label:"模板名称"}},[n("el-input",{attrs:{placeholder:"请输入模板名称",autocomplete:"off",maxlength:"32","show-word-limit":"",clearable:""},model:{value:t.templateInfo.name,callback:function(e){t.$set(t.templateInfo,"name",e)},expression:"templateInfo.name"}})],1),n("el-form-item",{attrs:{label:"模板简介"}},[n("el-input",{attrs:{type:"textarea",rows:"4",maxlength:"255",placeholder:"请输入模板简介",resize:"none","show-word-limit":""},model:{value:t.templateInfo.introduction,callback:function(e){t.$set(t.templateInfo,"introduction",e)},expression:"templateInfo.introduction"}})],1)],1)],1),n("el-alert",{directives:[{name:"show",rawName:"v-show",value:t.templateInfo.id>0,expression:"templateInfo.id > 0"}],attrs:{title:"该操作同时会保存正在编辑的模板内容！",type:"info",closable:!1,"show-icon":""}}),n("div",{staticClass:"content-drawer__footer"},[n("el-popconfirm",{attrs:{icon:"el-icon-warning",title:"是否确认重置？"},on:{onConfirm:t.onReset}},[n("el-button",{attrs:{slot:"reference",type:"danger"},slot:"reference"},[t._v("重 置")])],1),n("el-button",{attrs:{type:"primary",loading:t.saveLoading},on:{click:t.onDocTemplateSave}},[t._v("保 存")])],1)],1)],1)},a=[],o=(n("7f7f"),n("cc2f")),r=n("5710"),s={name:"c-library-drawer-doc-template-info",mixins:[o["a"],r["a"]],computed:{title:function(){return this.templateInfo.id?"模板信息":"另存为模板"}},data:function(){return{templateInfo:{id:0,name:"",content:"",introduction:""},templateInfoBackup:{},saveLoading:!1}},methods:{initEventBus:function(t){var e=this;t.$on("editor-doc-template-info",(function(t){e.templateInfo=t,e.templateInfoBackup=e.$utils.CloneDeep(t),e.visibleDrawer=!0}))},onDocTemplateSave:function(){var t=this;this.$api.v1.LibraryDocTemplateCreate(this.templateInfo,{loading:function(e){t.saveLoading=e}}).then((function(e){e.resData;t.$tip.success("保存成功"),t.visibleDrawer=!1}))},onReset:function(){var t=this.$utils.CloneDeep(this.templateInfoBackup);this.templateInfo.name=t.name,this.templateInfo.introduction=t.introduction}}},l=s,c=(n("3753"),n("2877")),u=Object(c["a"])(l,i,a,!1,null,null,null);e["default"]=u.exports},a59c:function(t,e,n){},cc2f:function(t,e,n){"use strict";e["a"]={props:{visible:{type:Boolean,default:!1}},watch:{visible:function(t){this.visibleDrawer=t},visibleDrawer:function(t){this.$emit("update:visible",t),t?this.onDrawerOpen&&this.onDrawerOpen():this.$emit("close",this.$data)}},data:function(){return{visibleDrawer:this.visible,loadingDrawer:!1}}}}}]);