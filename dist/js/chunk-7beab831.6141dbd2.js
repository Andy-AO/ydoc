(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7beab831"],{"2dbc":function(e,t,r){},"40c6":function(e,t,r){},"476c":function(e,t,r){"use strict";r("8e6e"),r("ac6a"),r("456d"),r("96cf");var n=r("3b8d"),i=r("bd86"),c=r("2f62");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t["a"]={computed:a(a({},Object(c["c"])("libraryPreview",["libraryShareInfo","isAccessed","isShareSimplify"])),Object(c["b"])("libraryPreview",["libraryId","shareAccessToken"])),inject:["libraryPreviewEventBus"],watch:{isAccessed:{handler:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}if(e.t0=this.initComponent,!e.t0){e.next=5;break}return e.next=5,this.initComponent();case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),immediate:!0}},created:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.initEventBus&&this.initEventBus(this.libraryPreviewEventBus);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},"716f":function(e,t,r){"use strict";var n=r("2dbc"),i=r.n(n);i.a},"7d72":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.viewLoading,expression:"viewLoading"}],staticClass:"c-library-preview-view",attrs:{"element-loading-text":"Loading..."}},[e.isView?r("el-scrollbar",{staticClass:"scrollbar"},[r(e.layout,{ref:"view",tag:"div",staticClass:"layout-editor",attrs:{"doc-info":e.docInfo}}),r("div",{staticClass:"view-operation"},[r("el-button",{staticClass:"refresh-btn",attrs:{title:"刷新",loading:e.viewLoading,type:"text",icon:"el-icon-refresh"},on:{click:e.onRefresh}})],1)],1):r("c-library-preview-welcome")],1)},i=[],c=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),o=(r("96cf"),r("3b8d")),a=(r("4917"),r("476c"));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f={name:"c-library-preview-view",components:{"c-library-editor-markdown-view":function(){return r.e("chunk-650aad50").then(r.bind(null,"81d8"))},"c-library-preview-welcome":function(){return r.e("chunk-c6521a66").then(r.bind(null,"9832"))}},mixins:[a["a"]],computed:{docId:function(){return this.docInfo.id||0},isView:function(){return this.docId>0}},data:function(){return{docInfo:{id:0,title:"",content:""},viewLoading:!1,layout:"c-library-editor-markdown-view"}},created:function(){if(this.isShareSimplify)this.fetchDocInfo(this.libraryShareInfo.doc_id);else{var e=this.$route.hash.slice(1),t=e.match(/^(doc|group)-(\d+)$/);t&&"doc"===t[1]&&this.fetchDocInfo(t[2])}},methods:{initEventBus:function(e){var t=this;e.$on("doc-view",(function(e){t.fetchDocInfo(e)}))},fetchDocInfo:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=u(u({},this.shareAccessToken),{},{doc_id:t}),e.next=3,this.$api.v1.LibraryShareDocInfo(r,{loading:function(e){n.viewLoading=e}}).then((function(e){var t=e.resData;n.docInfo=t}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),onRefresh:function(){this.libraryPreviewEventBus.$emit("doc-view",this.docInfo.id)}}},l=f,d=(r("9d69"),r("716f"),r("2877")),b=Object(d["a"])(l,n,i,!1,null,"e6756868",null);t["default"]=b.exports},"9d69":function(e,t,r){"use strict";var n=r("40c6"),i=r.n(n);i.a}}]);