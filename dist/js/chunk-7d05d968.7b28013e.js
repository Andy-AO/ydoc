(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d05d968"],{"3a02":function(e,t,r){"use strict";var n=r("d35e"),a=r.n(n);a.a},"3c6a":function(e,t,r){},c030:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"c-page-header"},[r("div",{staticClass:"container"},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:18}},[r("el-menu",{attrs:{"default-active":e.defaultActive,mode:"horizontal"},on:{select:e.onSelect}},[r("el-menu-item",{attrs:{index:"home"}},[r("i",{staticClass:"el-icon-setting"}),e._v("工作台")]),r("el-menu-item",{attrs:{index:"team-home",disabled:""}},[e._v("我的团队")]),r("el-menu-item",{attrs:{index:"3",disabled:""}},[e._v("模板管理")]),r("el-menu-item",{attrs:{index:"4",disabled:""}},[e._v("分享管理")]),r("el-menu-item",{attrs:{index:"6",disabled:""}},[e._v("开发者中心")])],1)],1),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"header-tools"},[r("div",{staticClass:"operate"},[r("el-badge",{attrs:{"is-dot":e.userMessageUnreadCount>0}},[r("i",{staticClass:"el-icon-message operate__user-message",attrs:{title:"消息通知"},on:{click:e.onUserMessage}})]),r("el-dropdown",{attrs:{trigger:"click"},on:{command:e.onCreateCommand}},[r("span",{staticClass:"el-dropdown-link"},[r("i",{staticClass:"el-icon-circle-plus operate__create-library",attrs:{title:"创建文档库"}})]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"createLibrary"}},[e._v("创建文档库")]),r("el-dropdown-item",{attrs:{command:"importLibrary",disabled:""}},[e._v("导入文档库")]),r("el-dropdown-item",{attrs:{command:"createTeam",disabled:""}},[e._v("创建团队")])],1)],1)],1),r("div",{staticClass:"user"},[r("el-dropdown",{attrs:{trigger:"click"},on:{command:e.onUserCommand}},[r("span",{staticClass:"el-dropdown-link"},[r("div",{staticClass:"user-info"},[r("img",{staticClass:"user-info__avatar",attrs:{src:e.userInfo.avatar_url,align:"default"}}),r("span",{staticClass:"user-info__nickname text-overflow",attrs:{title:e.userInfo.nickname}},[e._v("\n                                        "+e._s(e.userInfo.nickname)+"\n                                    ")]),r("i",{staticClass:"el-icon-arrow-down el-icon--right"})])]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"user"}},[e._v("个人信息")]),r("el-dropdown-item",[e._v("关于我们")]),r("el-dropdown-item",{attrs:{command:"userLogout",divided:""}},[e._v("退出登录")])],1)],1)],1)])])],1)],1)])},a=[],s=(r("8e6e"),r("ac6a"),r("456d"),r("96cf"),r("3b8d")),i=(r("7f7f"),r("bd86")),o=r("2f62");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={name:"c-page-header",computed:u(u({},Object(o["b"])("userSession",["userInfo"])),Object(o["c"])("global",["userMessageUnreadCount"])),watch:{$route:function(e){this.defaultActive=e.name||"home",this.fetchUserMessageUnreadCount()}},data:function(){return{defaultActive:"",logoutLoading:!1}},methods:{user:function(){this.$link.userInfo()},fetchUserMessageUnreadCount:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.userInfo.uid){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,this.$api.v1.UserMessageCount({status:0}).then((function(e){var r=e.resData;t.$store.commit("global/setUserMessageUnreadCount",r.count)}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),userLogout:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$fullLoading.status=!0,e.next=3,this.$store.dispatch("userSession/logout");case 3:t=e.sent,this.$fullLoading.status=!1,t?this.$link.login():this.$tip.error("退出登录失败，请重试");case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createLibrary:function(){this.$link.libraryCreate()},importLibrary:function(){this.$link.libraryCreate()},createTeam:function(){this.$link.teamHome()},onSelect:function(e){switch(e){case"home":this.$link.home();break;case"team-home":this.$link.teamHome();break}},onUserCommand:function(e){var t=["userLogout","user"];t.indexOf(e)>=0&&this[e]&&this[e]()},onCreateCommand:function(e){var t=["createLibrary","importLibrary","createTeam"];t.indexOf(e)>=0&&this[e]&&this[e]()},onUserMessage:function(){this.$link.userMessage()}}},d=l,m=(r("fcd3"),r("3a02"),r("2877")),f=Object(m["a"])(d,n,a,!1,null,"e23b2970",null);t["default"]=f.exports},d35e:function(e,t,r){},fcd3:function(e,t,r){"use strict";var n=r("3c6a"),a=r.n(n);a.a}}]);