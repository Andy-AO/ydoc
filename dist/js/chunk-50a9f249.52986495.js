(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50a9f249"],{"7ad5":function(t,e,o){},b49c:function(t,e,o){"use strict";var i=o("7ad5"),a=o.n(i);a.a},db78:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"c-library-editor-meta"},[o("el-form",{staticClass:"meta-operation",attrs:{inline:!0}},[o("el-input",{staticClass:"meta-operation__title",attrs:{size:"mini",placeholder:"请输入标题",clearable:""},model:{value:t.meta.title,callback:function(e){t.$set(t.meta,"title",e)},expression:"meta.title"}}),o("span",{directives:[{name:"show",rawName:"v-show",value:t.meta.updateTime>0||t.loading,expression:"meta.updateTime > 0 || loading"}],staticClass:"meta-operation__last-time"},[o("span",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[t._v("\n                保存于 "+t._s(t._f("dateFormat")(t.meta.updateTime,"m-d H:i:s"))+"\n            ")]),o("span",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]},[o("i",{staticClass:"el-icon-loading "}),t._v(" 保存中\n            ")])]),o("el-button-group",{staticClass:"fr"},[o("el-button",{attrs:{size:"mini"},on:{click:t.onDocHistory}},[t._v("历史记录")]),o("el-dropdown",{attrs:{trigger:"click",type:"primary",size:"mini",icon:"el-icon-circle-check","split-button":""},on:{command:t.onHandleCommand,click:t.onSaveDoc}},[t._v("\n                保存文档\n                "),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",{attrs:{command:"doc-info"}},[t._v("文档信息")]),o("el-dropdown-item",{attrs:{command:"doc-remove"}},[t._v("删除文档")]),o("el-dropdown-item",{attrs:{command:"doc-switch-style"}},[t._v("切换风格")]),o("el-dropdown-item",{attrs:{command:"doc-save-as",divided:""}},[t._v("另存为文档")]),o("el-dropdown-item",{attrs:{command:"doc-save-to-template",divided:""}},[t._v("另存为模板")]),o("el-dropdown-item",{attrs:{command:"doc-use-template"}},[t._v("使用模板")]),o("el-dropdown-item",{attrs:{command:"doc-share",divided:""}},[t._v("分享")])],1)],1)],1)],1)],1)},a=[],n=o("5710"),s={name:"c-library-editor-meta",mixins:[n["a"]],props:{meta:{type:Object,required:!0},loading:{type:Boolean,default:!1}},watch:{"meta.title":function(t){this.$emit("input")},"meta.groupId":function(t){this.$emit("input")}},methods:{onSaveDoc:function(){this.libraryContentEventBus.$emit("doc-save",{docId:this.meta.id})},onHandleCommand:function(t){this.libraryContentEventBus.$emit("doc-fetch-content",{docId:this.meta.id});var e=this.meta;switch(t){case"doc-info":this.libraryContentEventBus.$emit("editor-doc-info",{docInfo:e});break;case"doc-use-template":this.libraryContentEventBus.$emit("doc-template-will-use");break;case"doc-remove":this.onDocRemove(this.meta.id);break;case"doc-save-to-template":this.libraryContentEventBus.$emit("editor-doc-template-info",{id:0,introduction:"",name:"模板"+this.$utils.DateFormat(Date.now()/1e3),content:e.content});break;case"doc-save-as":this.libraryContentEventBus.$emit("editor-doc-info",{docInfo:e,isSaveAsMode:!0});break;case"doc-share":this.libraryContentEventBus.$emit("doc-will-share",{docId:this.meta.id});break;default:this.$utils.Abuilding();break}},onDocRemove:function(t){this.libraryContentEventBus.$emit("doc-remove",{docId:t})},onDocHistory:function(){var t=this.meta.id;this.libraryContentEventBus.$emit("doc-history",{docId:t})}}},d=s,r=(o("b49c"),o("2877")),c=Object(r["a"])(d,i,a,!1,null,"4f1a56ae",null);e["default"]=c.exports}}]);